# PHP_ToDoList
#### PHPによる共有型ToDo管理アプリ

## 概要
登録ユーザー毎に件名、担当者、期限、完了日、完了状態を保持。基本的にログインユーザーは他ユーザー担当分も含めデータの追記修正が可能な仕様。

## 画面・機能構成
- ログイン機能
  - 当面は登録済みユーザーのみ
  - ゲストユーザー用ID及びパスワードを公開
    - ※サインイン系操作無しで殆どの機能を使える構成の方が公開ポートフォリオとして親切かも？
      - → デフォルトでテストユーザーのID及びパスワードが入力された状態に変更
- ToDo一覧画面
  - ログインユーザー名を表示
  - キーワード検索入力ボックス
  - 「完了（または未完了）」「更新」「削除」操作ボタン
    - 「完了」ボタン押下
      - 完了日を本日の日付で登録
      - 行をグレー表示に変える
      - ボタンを「未完了」に変える
    - 「未完了」ボタン押下
      - 完了日を削除し、画面には「未」と表示
      - 行をグレー表示から無色（白背景）表示に戻す
      - ボタンを「完了」に変える
  - ログインユーザーのタスクは背景色をピンク表示
  - 完了済みタスクは背景色をグレー表示
  - 未完了　かつ「期限」が現在日付以前のタスクは赤文字表示
- タスク新規登録画面
- 検索結果表示画面
  - 検索結果画面は一覧画面と同じ構成。同様に「完了・未完了」「更新」「削除」等の操作が可能
- タスク更新画面
- タスク削除画面
- 全エラー共通画面

## 使用技術
- データベースアクセスにはPDOを使用(利用DB種類の差によるソースコードの書き換えがほぼ不要）
- デプロイは当初AWS(ec-2)、現在はHerokuに移転済み(AWSインスタンスは休止中)
- セッション管理は基本ブラウザを閉じるまでが有効期限だが、現状ブラウザの記憶機能依存
- 移行後もHeroku標準のPostgresではなく、元のMySQLのままアドオンを追加
- Heroku移行後はGitHubのmasterブランチ更新に合わせ自動デプロイ(Heroku側の機能による)

### Railsへの切り替えを決めた為、以下の実装・実施は当面見送り

- 新規ユーザー登録機能
- 既存ユーザー削除機能
- **トランザクション処理**
- **ページネーション機能**
- ソースコード全体のリファクタリング（ロジックと見た目の分離等）

### 課題
- PHPは一旦置きRailsを優先するが、**ポートフォリオの1つとして公開する以上**はリファクタリングしておくべき
- 更に言えばその前に「(The Art of) **Readable Code**」「Code Complete」「デザインパターン」等読んでおくと尚良
- **トランザクション処理の実装をしていない**点も**公開作品としては未完成**と言わざるを得ない
- 新規登録画面で空白のままノーチェックで登録できてしまう
   - 上記をPHPでの対策からHTMLタグの"require"による制限に置き換えたが、「キャンセル」押下時にも未入力が許されず画面遷移しない仕様はストレスなので削除
   - ちゃんとPHPでロジック書いて修正する為に時間を割くよりRails学習優先の為に現状放置、しかし全項目空白でも登録できてしまう仕様は修正を要する
